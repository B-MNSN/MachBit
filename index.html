<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MachBit | AI & Micro:Bit</title>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.svg">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Kanit:wght@300;400;600&display=swap">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8.4/dist/teachablemachine-image.min.js"></script>
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
</head>
<body>
    <!-- Background Glow Effects -->
    <div class="glow glow-1"></div>
    <div class="glow glow-2"></div>
    <div class="glow glow-3"></div>

    <div class="container">
        <div class="machbit-logo">
            <span>MachBit</span>
            <i class="fas fa-bolt" style="color: #FFD700; text-shadow: 0 0 2px #FFA500;"></i>
          </div>
        <!-- <h1>MachBit</h1> -->
        <h2>AI Vision + micro:bit Controller</h2>
    
        <div class="card">
            <div class="connect-wrap">
                <button id="btnConnectMicrobit">
                    <span class="btn-icon"><i class="fa-solid fa-plug-circle-check"></i> </span> CONNECT MICRO:BIT
                </button>
                <button id="btnDisconnectMicrobit" style="display: none;">
                    <span class="btn-icon"><i class="fa-solid fa-plug-circle-xmark"></i></span> DISCONNECT
                </button>
                <div id="status" class="status disconnected"><i class="fa-solid fa-plug-circle-xmark"></i> Not Connected</div>
            </div>
            <hr>
            <div class="callout-box">
                <div class="callout-icon"><i class="fa-solid fa-triangle-exclamation"></i></div>
                <div class="callout-text">
                  <h3 id="alertTitle">Please enter the model URL first</h3>
                  <p id="alertMessage">You need to provide the URL of your Teachable Machine model before selecting a mode.</p>
                </div>
              </div>
            <!-- Add this model URL section -->
            <div class="model-url-container">
                <label>TEACHABLE MACHINE MODEL URL</label>
                <input type="text" id="modelUrlInput" class="model-url-input" placeholder="https://teachablemachine.withgoogle.com/models/..." >
                <button class="load-model-btn" id="btnLoadModal">
                    <i class="fas fa-robot"></i> LOAD AI MODEL
                </button>
            </div>
            
            <label>SELECT MODE</label>
            <select id="modeSelect">
                <option value="upload">üìÅ Upload Image</option>
                <option value="webcam">üì∑ Use Webcam</option>
            </select>
    
            <div id="uploadSection">
                <div class="upload-btn-wrapper">
                    <div class="upload-btn">
                        <span>CHOOSE AN IMAGE OR DRAG & DROP</span>
                        <i>üìÅ</i>
                        <span>PNG, JPG, or GIF</span>
                    </div>
                    <input type="file" id="imageUpload" accept="image/*">
                </div>
                <div id="loading-spinner" class="loading-spinner" style="display: none;">
                    <div class="spinner"></div>
                    <p>Loading...</p>
                </div>
                <img id="uploadedImage" style="display: none;" />
                
            </div>
    
            <div id="webcam-container" style="display: none;"></div>
    
            <div id="label-container"></div>
    
            
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
    <script src="/script.js"></script>
</body>
</html>
